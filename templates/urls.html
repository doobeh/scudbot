{% extends 'base.html' %}
{% from "_helpers.html" import render_pagination %}
{% from "_helpers.html" import url_box %}
{% block extra_style %}
	<link rel="stylesheet/less" href="/static/less/urls.less">
{% endblock %}

{% block title %}Links{% endblock %}
{% block nav_links %}active{% endblock %}

{% block hero %}
	<h1>Links!</h1>
{% endblock %}


{% block content %}
      {# Pagination #}
      <div class="span16">
            {% if pagination %}
                {{ render_pagination(pagination) }}
            {% endif %}
      </div>
      <!-- Show any logged messages -->
      <div class="row">
      	<div class="span16">
        	{% if url %}
            <span class="url-group-heading">{{url.date_created.date()}}</span>
  			<ol class="url-group">
  				<li class="url-group-item ">
        		{{ url_box(url) }}
        		</li>
        	</ol>
  			{% elif urls %}
  				{% for url in urls %}
  					{% if date is defined %}
  						{% if date != url.date_created.date() %}
  			</ol>
  			<span class="url-group-heading">{{url.date_created.date()}}</span>
  			<ol class="url-group">
  							{% set date = url.date_created.date() %}
  						{% endif %}
  					{% else %}
  			<span class="url-group-heading">{{url.date_created.date()}}</span>
  			<ol class="url-group">
  						{% set date = url.date_created.date() %}
  					{% endif %}

				{% if loop.index is divisibleby 2 %}
				<li class="url-group-item ">
				{% else %}
				<li class="url-group-item alt_background">
				{% endif %}
           				{{ url_box(url) }}
           		</li>
      			{% endfor %}
      			{% if date is defined %}
      		</ol>
      			{% endif %}
	  		{% else %}
  			<p>There are currently no logged urls.</p>
  			{% endif %}
      	</div>      	
      </div>
{% endblock %}
