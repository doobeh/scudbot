{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block nav_home %}active{% endblock %}




{% block hero %}
	<h1>Log.</h1>  
{% endblock %}

{% macro render_pagination(pagination) %}
  <div class=pagination>
  {%- for page in pagination.iter_pages() %}
    {% if page %}
      {% if page != pagination.page %}
        <a href="{{ url_for_other_page(page) }}">{{ page }}</a>
      {% else %}
        <strong>{{ page }}</strong>
      {% endif %}
    {% else %}
      <span class=ellipsis>â€¦</span>
    {% endif %}
  {%- endfor %}
  {% if pagination.has_next %}
    <a href="{{ url_for_other_page(pagination.page + 1)
      }}">Next &raquo;</a>
  {% endif %}
  </div>
{% endmacro %}


{% block content %}
      <!-- Show any logged messages -->
      <div class="row">
      	<div class="span16">
      		<h2>Messages</h2>
      		{% if messages %}
      			<table><tr><th>Timestamp</th><th>Nick</th><th>Message</th><th>Permalink</th></tr></thead>
      			{% for message in messages %}
      				<tr>
      					<td>{{ message.date_created.strftime('%a %I:%M%p') }}</td>
      					<td>{{ message.nick }}</td>
      					<td>{{ message.message }}</td>
      					<td><a href="{{ url_for('permanent',id=message.id) }}">Permalink</a></td>
      				</tr>
      			{% endfor %}
      			</table>
      		{% else %}
      			<p>There are currently no logged messages.</p>
      		{% endif %}
      	</div>      	
      	<div class="span16">
      		{{ render_pagination(pagination) }}
      	</div>
      </div>
{% endblock %}